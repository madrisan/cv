%%% Curriculum vitae et studiorum -- PlainTeX format
%%% Copyright (C) 2017-2019 by Davide Madrisan <davide.madrisan@gmail.com>

%%% Fonts

\newfam\scfam                                                     % small cap family
\newfam\bsfam                                              % slanted boldface family
\newfam\tbfam                                               % typewriter bold family
\newfam\sffam                                                    % sans serif family
\newfam\sfbfam                                              % sans serif bold family
\newfam\sfifam                                            % sans serif italic family
\newskip\ttglue
%
\font\fiverm = cmr5
\font\fivei  = cmmi5
\font\fivesy = cmsy5
\skewchar\fivei = '177\skewchar\fivesy = '60
%
\font\sixrm = cmr6
\font\sixit = cmti8 at 6pt
\font\sixbf = phvb8rn at 6pt  % cmbx6
\font\sixbi = cmmib6
\font\sixi  = cmmi6
\font\sixsy = cmsy6
\skewchar\sixi = '177\skewchar\sixsy = '60
%
\font\eightrm = cmr8
\font\eightit = cmti8
\font\eightsl = cmsl8
\font\eighttt = cmtt8
\font\eightbf = cmbx8
\font\eighti  = cmmi8
\font\eightsy = cmsy8
\font\eightss = cmss8
%
\font\ninei  = cmmi9
\font\ninesy = cmsy9
\font\nineex = cmex9
\font\ninebi = cmmib9
\font\ninerm = cmr9
\font\nineit = cmti9
\font\ninesl = cmsl9
\font\ninett = cmtt9 % pcrr8r at 9pt can't be generated
\font\ninetb = pcrb8r at 9pt
\font\ninebf = cmbx9
\font\ninesc = cmcsc9
\font\ninebs = cmbxsl10 at 9pt
\font\niness = phvr8r at 9pt  % cmss9
\font\ninesb = phvb8r at 9pt  % cmssbx9
\font\ninesi = cmssi9
\skewchar\ninei = '177\skewchar\ninesy = '60
\hyphenchar\ninett = -1

\font\smallsy = cmsy6
\font\smallr = cmr6
\font\smallsl = cmsl6

\font\fivemsa = msam5
\font\tenmsa = msam10
\font\sevenmsa = msam7

\font\bigfont = cmdunh26 % cmss12 at 24pt
\font\titlefont = cmcsc11 % cmss12 % cmbx12 at 14pt
\font\sectionfont = cmcsc11 % cmss10 % cmssbx10 % cmbx10
\font\subsectionfont = cmcsc9

%%% Font families

\ifx\eightpoint\undefined
    \def\eightpoint{%
        \def\rm{\fam0\eightrm}%
        \textfont0 = \eightrm\scriptfont0 = \sixrm  \scriptscriptfont0 = \fiverm%
        \textfont1 = \eighti \scriptfont1 = \sixi   \scriptscriptfont1 = \fivei%
        \textfont2 = \eightsy\scriptfont2 = \sixsy  \scriptscriptfont2 = \fivesy%
        \textfont3 = \tenex  \scriptfont3 = \tenex  \scriptscriptfont3 = \tenex%
        \def\it{\fam\itfam\eightit}\textfont\itfam = \eightit%
        \def\sl{\fam\slfam\eightsl}\textfont\slfam = \eightsl%
        \def\tt{\fam\ttfam\eighttt}\textfont\ttfam = \eighttt%
        \textfont\bffam = \eightbf \scriptfont\bffam = \sixbf%
        \scriptscriptfont\bffam = \fivebf%
        \def\bf{\fam\bffam\eightbf}%
        \def\sf{\fam\sffam\eightss}\textfont\sffam = \eightss%
        \normalbaselineskip = 10pt%
        \setbox\strutbox = \hbox{\vrule height7.5pt depth2.5pt width0pt}%
        \normalbaselines\rm}
\fi

\ifx\ninepoint\undefined
    \def\ninepoint{%
        \def\rm{\fam0\ninerm}%
        \textfont0 = \ninerm\scriptfont0 = \sixrm \scriptscriptfont0 = \fiverm%
        \textfont1 = \ninei \scriptfont1 = \sixi  \scriptscriptfont1 = \fivei%
        \textfont2 = \ninesy\scriptfont2 = \sixsy \scriptscriptfont2 = \fivesy%
        \textfont3 = \nineex\scriptfont3 = \nineex\scriptscriptfont3 = \nineex%
        \def\it{\fam\itfam\nineit}\textfont\itfam = \nineit%
        \def\sl{\fam\slfam\ninesl}\textfont\slfam = \ninesl%
        \def\tt{\fam\ttfam\ninett}\textfont\ttfam = \ninett%
        \def\tb{\fam\tbfam\ninetb}\textfont\tbfam = \ninetb%
        \def\bf{\fam\bffam\ninebf}\textfont\bffam = \ninebf%
        \def\sc{\fam\scfam\ninesc}\textfont\scfam = \ninesc%
        \def\bs{\fam\bsfam\ninebs}\textfont\bsfam = \ninebs%
        \def\sf{\fam\sffam\niness}\textfont\sffam = \niness%
        \def\sfb{\fam\sfbfam\ninesb}\textfont\sfbfam = \ninesb%
        \def\sfi{\fam\sfifam\ninesi}\textfont\sfifam = \ninesi%
        \tt\ttglue = .5em plus.25em minus.15em%
        \normalbaselineskip = 11pt%
        \setbox\strutbox = \hbox{\vrule height8pt depth3pt width0pt}%
        \normalbaselines\rm%
    }
\fi
\ninepoint % default font size

%%% Paging

\magnification\magstephalf
\hsize = 14.4truecm
\hoffset = 0.6truecm
\vsize = 23.8truecm
\voffset = 0.5truecm
\topskip = 0.6truecm
\parindent = 0.5truecm \parskip = .3\baselineskip
\tolerance = 400

\footline = {%
    \ifnum\pageno > 1
        \ifodd\pageno
            \hss\hbox{\eightpoint\it Davide Madrisan --- Curriculum vit\ae{} et studiorum}
            \hss\eightrm\folio%
	\else
            \eightrm\folio\hss%
            \hbox{\eightpoint\it Davide Madrisan --- Curriculum vit\ae{} et studiorum}\hss\fi
    \else\relax\fi%
}

%%% Side-note macros

\def\strutdepth{\dp\strutbox}
\def\sidenote#1{%
    \vtop to \strutdepth{%
        \baselineskip\strutdepth%
        \vss\llap{\vtop to 0pt{%
            \leftskip=0pt plus1fill \rightskip=8pt%
             \parfillskip=0pt\parindent=0pt%
             \hsize=1.7in%
             \eightpoint\it #1}}\null}}
\def\lsidenote#1{%
    \strut\vadjust{\kern-\strutdepth\sidenote{#1}}}

\newdimen\theight
\def\rsidenote#1{%
    \vadjust{\setbox0=\hbox{\eightpoint\it #1}%
    \theight=\ht0
    \advance\theight by \dp0 \advance\theight by \lineskip
    \kern -\theight \vbox to \theight{\rightline{\rlap{\box0}}%
    \vss}%
}}%

%%% pages elements

\def\personaldata#1{\hbox to\hsize{%
    \eightpoint\color{darkgray}%
    \baselineskip = 12truept%
    \vtop{\halign{{\rm##}\hfil&\qquad\qquad\strut##\hfil\cr#1\crcr}}\hfill}}
%\def\personaldataline#1#2#3{\line{{#1}\space{\it #2}\hss#3}\cr}
\def\personaldataline#1#2#3{\line{\hss#3\space\hbox to 12pt{{\hss#1}}}\cr}

\def\endpoint#1{\vrule height #1pt width #1pt depth 0pt}
\def\sendpoint{\endpoint{7}}
\def\horizontalrule#1#2{\vrule height #1pt width #2pt depth 0pt}

\def\dateitem#1#2#3 \par {%
    \goodbreak\bigskip%
    \line{\bf{#1 -- #2}\hss{\color{darkgreen}#3}}%
    \penalty-600%
    \nobreak\vskip 0pt\noindent\ignorespaces}

\def\sectionrule{\horizontalrule{8}{8}}
\long\def\section#1 \par {%
    \goodbreak\bigskip%
    \leftline{\color{darkgreen}\sectionfont#1\quad\hrulefill%
    %\lsidenote{\color{darkgreen}\sectionrule\quad}}%
    \lsidenote{\sectionrule\quad}}%
    \penalty-200%
    \nobreak\vskip 0pt plus 1pt\noindent\ignorespaces}
\long\def\subsection#1 \par {%
    \medskip%
    \leftline{\color{darkgreen}\subsectionfont#1}%
    \nobreak\noindent\ignorespaces}

\def\quote{%
    \par\begingroup
    \rightskip=\parindent
    \leftskip=\parindent
    \noindent\ignorespaces}
\def\endquote{\par\endgroup}

\def\bitem#1{%
    \item{\raise1.2pt\hbox{$\textfont2 = \smallsy\bullet$}}{%
       {\it #1\/}:~}\nobreak\ignorespaces}
\def\bitemunamed{%
    \item{\raise1.2pt\hbox{$\textfont2 = \smallsy\bullet$}}\ignorespaces}
\def\bitemitemunamed{%
    \itemitem{\raise1.2pt\hbox{$\textfont2 = \smallsy\bullet$}}\ignorespaces}
%\def\bdot{$\,\cdot\,$}
\def\bdot{\raise1.2pt\hbox{$\textfont2 = \smallsy\bullet$}}

\def\certgroup#1{%
   \goodbreak\par\hang\noindent\line{\bf#1\hss}%
   \noindent\ignorespaces\nobreak}
\def\certauthority#1#2{%
   %\par\hang\noindent\line{\it#1 on #2\hss}%
   \par\hang\noindent\line{\it#1\hss}%
   \noindent\ignorespaces\nobreak}
\def\certspecialization#1{%
   \vskip -3pt\noindent\ignorespaces\hskip\parindent{\rm#1}}
\def\certitembullet#1{{%
   \bitemitemunamed{\rm#1}}}

\def\certitemoneline#1#2#3{%
   \par\hang\noindent\line{\hbox{\it#1 on #2} -- {\rm#3}\hfill}}

\def\certification#1#2{%
   \par\hang\noindent\line{\rm#1 -- #2\hss}\vskip -6pt\noindent\ignorespaces}

%%% other macros

\def\stress#1{{\it#1}}

\newskip\tinyskipamount
\tinyskipamount=1pt plus 1pt minus 0pt
\def\tinyskip{\vskip\tinyskipamount}

\def\software{\lsidenote{\sixit software}}
\def\tasks{\lsidenote{\sixit main tasks}}
\def\technologies{\lsidenote{\sixit technologies}}

\def\plusplus{\nobreak\raise1pt\hbox{$\textfont0 = \smallr+\kern-.06667em+$}}

%\def\smallplus{\nobreak\raise.16em\hbox{$\textfont0 = \smallr+$}}
\def\smallplus{\nobreak\raise.16em\hbox{\fiverm+}}

\def\today{%
   \the\day\space\ifcase\month%
      \or January\or February\or March\or April\or May\or June%
      \or July\or August\or September\or October\or November\or December\fi%
   \space\number\year}

\def\OS2{OS\lower.4ex\hbox{2}}
\def\plainTeX{{\it plain\/}\TeX}

%%% end of macros file
